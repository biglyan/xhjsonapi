function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _get=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,i);if(void 0!==c){if("value"in c)return c.value;var a=c.get;if(void 0===a)return;return a.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=i,r=s,o=!0,c=u=void 0}};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("frisbee")):"function"==typeof define&&define.amd?define(["frisbee"],t):e.XHJsonApi=t(e.Frisbee)}(this,function(e){"use strict";var t=function(e){function t(e){var r=this;if(_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),!this.opts.rpcPath)throw new Error("需要提供rpc路径参数（rpcPath）");if(!this.opts.methods)throw new Error("需要提供方法定义列表（methods）");this.opts.methods.forEach(function(e){r[e.name]=e.methods.reduce(function(t,o){return t[o]=function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];var s={jsonrpc:"2.0",method:e.name+"."+o,id:1,params:n};return r.post(r.opts.rpcPath,{credentials:"include",body:JSON.stringify(s)}).then(function(e,t){if("object"==typeof t){var r=t.result,o=t.error;if(r)throw o?new Error({code:-32700,message:"无法解析响应"}):"object"==typeof o&&o.code&&o.message?new Error({code:o.code,message:o.message}):new Error({code:-32700,message:"无法解析响应的错误信息"});return{result:r,body:t}}throw new Error({code:-32700,message:"无法解析响应"})})},t},{})})}return _inherits(t,e),t}(e);return t});
//# sourceMappingURL=xhjsonapi.min.js.map
