!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("frisbee")):"function"==typeof define&&define.amd?define(["frisbee"],t):"object"==typeof exports?exports.XHJsonApi=t(require("frisbee")):e.XHJsonApi=t(e.frisbee)}(this,function(e){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){this.name="RPCError",this.message=t||"",this.code=e||-32603}Object.defineProperty(t,"__esModule",{value:!0});var c=o(1),p=r(c);u.prototype=new Error;var a=function(e){function t(e){i(this,t);var o=f(this,Object.getPrototypeOf(t).call(this,e));if(!o.opts.rpcPath)throw new Error("需要提供rpc路径参数（rpcPath）");if(!o.opts.methods)throw new Error("需要提供方法定义列表（methods）");return o.opts.methods.forEach(function(e){o[e.name]=e.methods.reduce(function(t,r){return t[r]=function(){for(var t=arguments.length,i=Array(t),f=0;t>f;f++)i[f]=arguments[f];var s={jsonrpc:"2.0",method:(e.remoteName||e.name)+"."+r,id:1,params:i};return o.post(o.opts.rpcPath,{credentials:"include",body:JSON.stringify(s)}).then(function(e){var t=(e.response,e.body);if("object"===("undefined"==typeof t?"undefined":n(t))){var o=t.result,r=t.error;if(void 0!==o)return o;throw void 0!==r?"object"===("undefined"==typeof r?"undefined":n(r))&&r.code&&r.message?new u(r.code,r.message):new u(-32700,"无法解析响应的错误信息"):new u(-32700,"无法解析响应")}throw new u(-32700,"无法解析响应")})},t},{})}),o}return s(t,e),t}(p["default"]);t["default"]=a},function(t,o){t.exports=e}])});
//# sourceMappingURL=xhjsonapi.min.js.map
